/* Base */
:root{
  --bg:#2f2724;
  --card:#3a2f2b;
  --ink:#f5efe8;
  --muted:#cfc4bb;
  --accent:#b48c5a;
  --line:#4a403b;
  --chip:#524640;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:1100px;margin:0 auto;padding:0 18px}
.hero{background:linear-gradient(180deg,#3a2f2b, #2f2724)}
.hero .wrap{padding:36px 18px 18px}
h1{font-family:"Playfair Display",serif;font-size:44px;letter-spacing:.2px;margin:0 0 4px}
.tag{margin:2px 0 10px 0;color:var(--muted);font-weight:600}
.sub{margin:0;color:#e6ded5}
h2{margin:0 0 8px 0;font-size:20px}
p{line-height:1.5}

/* Panels */
.panel{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px;margin:16px 0;box-shadow:0 8px 22px rgba(0,0,0,.25)}
.panel.controls{display:flex;flex-wrap:wrap;gap:18px;align-items:center}
.control-group{display:flex;gap:10px;align-items:center}
.control-group label{color:var(--muted);font-size:13px}

.chips{display:flex;gap:8px;flex-wrap:wrap;max-height:120px;overflow:auto}
.chip{background:var(--chip);color:var(--ink);border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:13px;cursor:pointer;user-select:none}
.chip.on{outline:2px solid var(--accent)}

.toggle{display:inline-flex;border:1px solid var(--line);border-radius:10px;overflow:hidden}
.toggle button{background:transparent;border:none;color:var(--ink);padding:6px 12px;cursor:pointer}
.toggle button.on{background:var(--accent);color:#201712;font-weight:700}

.two-col{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:880px){.two-col{grid-template-columns:420px 1fr}}

.hint{color:var(--muted);margin:8px 2px 0 2px}

/* Receipt card */
.receipt-card{background:#fff;color:#231b17;border-radius:12px;padding:18px 18px;position:relative;border:1px solid #eee;box-shadow:0 10px 30px rgba(0,0,0,.30)}
.receipt-card:after{content:"";position:absolute;left:0;right:0;bottom:-10px;height:10px;background:repeating-linear-gradient(-45deg,transparent 0 8px,#fff 8px 16px)}
.r-head{font-weight:800;text-align:center;font-size:20px}
.r-sub{color:#7b6f65;text-align:center;margin:-2px 0 8px 0}
.r-line{border-top:1px dashed #d7cfc9;margin:10px 0}
.r-row{display:flex;justify-content:space-between;align-items:center;margin:6px 0;font-variant-numeric:tabular-nums}
.r-row .pill{background:#efe7df;color:#6e5e53;border-radius:999px;padding:2px 8px;font-size:12px;margin-left:8px}
.r-row.active strong{color:#000}
.r-row.dim{opacity:.45}

/* Donut */
.viz{height:520px;width:100%}
svg{width:100%;height:100%}
.slice-label{fill:#fff;font-weight:800;pointer-events:none}
.arc{stroke:#2b2421;stroke-width:1}
.tooltip{position:fixed;pointer-events:none;background:#111;color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;box-shadow:0 4px 12px rgba(0,0,0,.25)}

/* Legend-like chips for price tiers */
.price-legend{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 0 0}
.legend-item{display:flex;align-items:center;gap:6px;background:#4a403b;border:1px solid var(--line);padding:4px 10px;border-radius:999px;font-size:13px}
.swatch{width:12px;height:12px;border-radius:3px;background:#666}
.legend-item.dim{opacity:.4}

/* Footer */
.foot{color:var(--muted);margin:24px 0 34px}
